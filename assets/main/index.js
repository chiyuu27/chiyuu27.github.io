System.register("chunks:///_virtual/asset.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("getAssetKey",(function(t){return t+"_ASSET"})),e._RF.push({},"a8966KP6nxLnqj4FcX/hluW","asset",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Asset2.ts",["cc"],(function(E){"use strict";var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){var e,S,t;E({ASSET_EXTENSION:void 0,ASSET_KEY:void 0,ASSET_TYPE:void 0}),_._RF.push({},"51c85K02ahMAaB6tOHqpLtB","Asset",void 0),function(E){E.PNG=".png"}(e||(e=E("ASSET_EXTENSION",{}))),function(E){E.IMAGE="image",E.SPRITESHEET="spritesheet",E.AUDIO="audio",E.FONT="font"}(S||(S=E("ASSET_TYPE",{}))),function(E){E.DEFAULT="default",E.KEYPAD="keypad",E.LOGO_SHOPEE_ULAR="logo_shopeee_ular",E.SPRITE_SOUND_OFF="sprite_sound_off",E.SPRITE_SOUND_ON="sprite_sound_on",E.SPRITE_TILE="sprite_tile",E.SPRITE_TILE_1="sprite_tile_1",E.SPRITE_TILE_2="sprite_tile_2",E.SPRITE_WALL="sprite_wall",E.SPRITE_APPLE="sprite_apple",E.SPRITE_TROPHY="sprite_trophy",E.SPRITESHEET_SNAKE="spritesheet_snake",E.SPRITESHEET_SNAKE_ROUND="spritesheet_round",E.BGM_MUSIC="bg-music",E.SFX_BUTTON="button-sfx",E.SFX_CRASH="crash",E.SFX_EAT="eat",E.SFX_TURN="turn",E.FONT_SHOPEE_BLACK="Shopee2021-Black",E.FONT_SHOPEEE_BOLD="Shopee2021-Bold",E.FONT_SHOPEEE_EXTRA_BOLD="Shopee2021-ExtraBold",E.FONT_SHOPEEE_LIGHT="Shopee2021-Light",E.FONT_SHOPEEE_MEDIUM="Shopee2021-Medium",E.FONT_SHOPEEE_REGULAR="Shopee2021-Regular",E.FONT_SHOPEEE_SEMI_BOLD="Shopee2021-SemiBold"}(t||(t=E("ASSET_KEY",{}))),_._RF.pop()}}}));

System.register("chunks:///_virtual/Asset3.ts",["cc","./Asset2.ts"],(function(e){"use strict";var l,t,r;return{setters:[function(e){l=e.cclegacy},function(e){t=e.ASSET_KEY,r=e.ASSET_TYPE}],execute:function(){l._RF.push({},"642af6CcoBCtIaBBu8Ii4wG","Asset",void 0);e("getAssets",(function(){return[{key:t.DEFAULT,type:r.IMAGE,url:"",localUrl:"sprites/default"},{key:t.KEYPAD,type:r.SPRITESHEET,url:"",localUrl:"sprites/keypad",config:{frameHeight:116,frameWidth:116,paddingX:32,paddingY:32}},{key:t.LOGO_SHOPEE_ULAR,type:r.IMAGE,url:"",localUrl:"sprites/logo_shopee_ular"},{key:t.SPRITE_APPLE,type:r.IMAGE,url:"",localUrl:"sprites/sprite_apple"},{key:t.SPRITE_SOUND_OFF,type:r.IMAGE,url:"",localUrl:"sprites/sprite_sound_off"},{key:t.SPRITE_SOUND_ON,type:r.IMAGE,url:"",localUrl:"sprites/sprite_sound_on"},{key:t.SPRITE_TILE,type:r.IMAGE,url:"",localUrl:"sprites/sprite_tile"},{key:t.SPRITE_TILE_1,type:r.IMAGE,url:"",localUrl:"sprites/sprite_tile_1"},{key:t.SPRITE_TILE_2,type:r.IMAGE,url:"",localUrl:"sprites/sprite_tile_2"},{key:t.SPRITE_TROPHY,type:r.IMAGE,url:"",localUrl:"sprites/sprite_trophy"},{key:t.SPRITE_WALL,type:r.IMAGE,url:"",localUrl:"sprites/sprite_wall"},{key:t.SPRITESHEET_SNAKE,type:r.SPRITESHEET,url:"",localUrl:"sprites/spritesheet_snake",config:{frameHeight:96,frameWidth:96,paddingX:0,paddingY:0}},{key:t.SPRITESHEET_SNAKE_ROUND,type:r.SPRITESHEET,url:"",localUrl:"sprites/spritesheet_round",config:{frameHeight:96,frameWidth:96,paddingX:0,paddingY:0}},{key:t.BGM_MUSIC,type:r.AUDIO,url:"",localUrl:"sounds/bgm/bg-music"},{key:t.SFX_BUTTON,type:r.AUDIO,url:"",localUrl:"sounds/sfx/button-sfx"},{key:t.SFX_CRASH,type:r.AUDIO,url:"",localUrl:"sounds/sfx/crash"},{key:t.SFX_EAT,type:r.AUDIO,url:"",localUrl:"sounds/sfx/eat"},{key:t.SFX_TURN,type:r.AUDIO,url:"",localUrl:"sounds/sfx/turn"},{key:t.FONT_SHOPEE_BLACK,type:r.FONT,url:"",localUrl:"fonts/Shopee2021-Black"},{key:t.FONT_SHOPEEE_BOLD,type:r.FONT,url:"",localUrl:"fonts/Shopee2021-Bold"},{key:t.FONT_SHOPEEE_EXTRA_BOLD,type:r.FONT,url:"",localUrl:"fonts/Shopee2021-ExtraBold"},{key:t.FONT_SHOPEEE_LIGHT,type:r.FONT,url:"",localUrl:"fonts/Shopee2021-Light"},{key:t.FONT_SHOPEEE_MEDIUM,type:r.FONT,url:"",localUrl:"fonts/Shopee2021-Medium"},{key:t.FONT_SHOPEEE_REGULAR,type:r.FONT,url:"",localUrl:"fonts/Shopee2021-Regular"},{key:t.FONT_SHOPEEE_SEMI_BOLD,type:r.FONT,url:"",localUrl:"fonts/Shopee2021-SemiBold"}]}));l._RF.pop()}}}));

System.register("chunks:///_virtual/Asset4.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f72daNniNlITJIUxPEyRGUE","Asset",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/AssetLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Asset2.ts","./AssetLoader2.ts","./Asset3.ts","./asset.ts","./spritesheet.ts"],(function(e){"use strict";var t,s,a,o,n,r,i,d,c,h,u,l,g,A;return{setters:[function(e){t=e.inheritsLoose},function(e){s=e.cclegacy,a=e._decorator,o=e.assetManager,n=e.SpriteFrame,r=e.resources,i=e.Texture2D,d=e.math,c=e.Component},function(e){h=e.ASSET_TYPE},function(e){u=e.ASSET_LOADER_EVENT},function(e){l=e.getAssets},function(e){g=e.getAssetKey},function(e){A=e.getSpriteFrameKey}],execute:function(){var f;s._RF.push({},"3bb28b94C1EeqnkZb4K6JIB","AssetLoader",void 0);var L=a.ccclass;e("AssetLoader",L("AssetLoader")(f=function(e){function s(){for(var t,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this)._assetsToLoad=void 0,t._loadCount=0,t}t(s,e);var a=s.prototype;return a.onLoad=function(){this._assetsToLoad=l()},a.startAssetsLoad=function(){var e=this;this.node.emit(u.START,this.getProgress()),this._assetsToLoad.forEach((function(t){var s=t.key,a=t.type,o=t.localUrl,n=t.config;e.loadLocalAsset(s,a,o,n)}))},a.getProgress=function(){return this._loadCount/this._assetsToLoad.length},a.remapAssetManagerEntry=function(e,t){var s=o.assets.get(t);s&&(o.assets.add(e,s),o.assets.remove(t))},a.handleLoadedImage=function(e,t){var s=o.assets.get(e);if(s){var a=n.createWithImage(s);o.assets.add(t,a)}},a.loadLocalAsset=function(e,t,s,a){var o=this;r.load(s,(function(n,r){o.handleLoadedAsset(e,t,s,n,r,a),n&&o.loadLocalAsset(e,t,s,a)}))},a.handleLoadedAsset=function(e,t,s,a,o,n){a?this.node.emit(u.ASSET_LOAD_FAILURE,this.getProgress(),e,s):(this._loadCount+=1,this.handleLoadedAssetByType(e,o._uuid,t,n),this.node.emit(u.ASSET_LOAD_SUCCESS,this.getProgress(),e,s)),this._loadCount===this._assetsToLoad.length&&this.node.emit(u.COMPLETE,this.getProgress())},a.handleLoadedAssetByType=function(e,t,s,a){switch(s){case h.SPRITESHEET:this.remapAssetManagerEntry(g(e),t),this.handleLoadedSpritesheet(g(e),e,a);break;case h.IMAGE:this.remapAssetManagerEntry(g(e),t),this.handleLoadedImage(g(e),e);break;case h.AUDIO:default:this.remapAssetManagerEntry(e,t)}},a.handleLoadedSpritesheet=function(e,t,s){var a=o.assets.get(e),r=a||{},c=r.width,h=r.height,u=s.frameWidth,l=s.frameHeight,g=s.paddingX,f=s.paddingY;if(c&&h&&u&&l){var L=new i;L.image=a;for(var p=0,E=0;E<h;E+=l+f)for(var _=0;_<c;_+=u+g){var m=new n;m.texture=L,m.rect=d.rect(_,E,u,l),o.assets.add(A(t,p++),m)}}},s}(c))||f);s._RF.pop()}}}));

System.register("chunks:///_virtual/AssetLoader2.ts",["cc"],(function(e){"use strict";var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){var t;e("ASSET_LOADER_EVENT",void 0),s._RF.push({},"9fd68alLV1BmoQyPYPnXFSV","AssetLoader",void 0),function(e){e.START="start",e.ASSET_LOAD_SUCCESS="asset_load_success",e.ASSET_LOAD_FAILURE="asset_load_failure",e.COMPLETE="complete"}(t||(t=e("ASSET_LOADER_EVENT",{}))),s._RF.pop()}}}));

System.register("chunks:///_virtual/AssetLoadingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Text.ts","./LoadingBar.ts"],(function(e){"use strict";var t,r,a,n,i,o,l,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.Component},function(e){c=e.Text},function(e){s=e.LoadingBar}],execute:function(){var u,p,d,g,f,h,L,T,x;i._RF.push({},"2da1dGn1lxGVovLzzOGgARD","AssetLoadingUI",void 0);var b=o.ccclass,y=o.property;e("AssetLoadingUI",(u=b("AssetLoadingUI"),p=y(c),d=y(c),g=y(s),u((L=t((h=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"percentLoadText",L,n(t)),a(t,"urlLoadText",T,n(t)),a(t,"loadingBar",x,n(t)),t}return r(t,e),t.prototype.updateText=function(e,t){var r,a=this.percentLoadText,n=this.urlLoadText,i=Math.floor(100*e);if(null==(r=this.loadingBar)||r.drawInnerGraphics(i),a&&a.changeText(i+"%"),n)switch(i){case 100:n.changeText("CLICK TO ENTER");break;case 0:n.changeText("LOADING...");break;default:n.changeText(""+t)}},t}(l)).prototype,"percentLoadText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(h.prototype,"urlLoadText",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(h.prototype,"loadingBar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./Asset2.ts"],(function(t){"use strict";var e,i,n,o,s,r,a,u,c,h,d;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.assetManager,s=t.Sprite,r=t.UITransform,a=t.Vec3,u=t.tween,c=t.Component},function(t){h=t.AudioManager},function(t){d=t.ASSET_KEY}],execute:function(){var f;i._RF.push({},"b49caSwXY1JVYYeXUlbrUx2","AudioButton",void 0);var p=n.ccclass;t("PlayButton",p("PlayButton")(f=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this)._sprite=void 0,e._transform=void 0,e._audioSprites=void 0,e}e(i,t);var n=i.prototype;return n.onLoad=function(){var t=o.assets.get(d.SPRITE_SOUND_ON),e=o.assets.get(d.SPRITE_SOUND_OFF);this._audioSprites={on:t,off:e},this._sprite=this.node.getComponent(s),this._transform=this.node.getComponent(r)},n.start=function(){var t=h.instance.isMuted?this._audioSprites.off:this._audioSprites.on;this.changeSprite(t)},n.switchAudioMute=function(){var t=this,e=h.instance.isMuted;e=!e,h.instance.muteAudio(e);var i=new a(this.node.scale),n=u(this.node).to(.05,{scale:new a(.9,.9,i.z)},{onComplete:function(){var i=e?t._audioSprites.off:t._audioSprites.on;t.changeSprite(i)}}),o=u(this.node).to(.05,{scale:i});u(this.node).sequence(n,o).start()},n.changeSprite=function(t){var e=this._transform.width,i=this._transform.height;this._sprite.spriteFrame=t,this._transform.width=e,this._transform.height=i},n.onClick=function(){this.switchAudioMute()},i}(c))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var i,t,e,u,n,s,r,a;return{setters:[function(o){i=o.inheritsLoose,t=o.createClass},function(o){e=o.cclegacy,u=o._decorator,n=o.director,s=o.AudioSource,r=o.assetManager,a=o.Component}],execute:function(){var c,d;e._RF.push({},"74a91MKoWJNUbbNGcBSb0cq","AudioManager",void 0);var l=u.ccclass;o("AudioManager",l("AudioManager")(((d=function(o){function e(){for(var i,t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];return(i=o.call.apply(o,[this].concat(e))||this)._bgmAudioSource=void 0,i._sfxAudioSource=[],i._isMuted=!1,i}i(e,o);var u=e.prototype;return u.onLoad=function(){if(e.instance)this.node.destroy();else{n.addPersistRootNode(this.node);var o=this.node.addComponent(s);o.playOnAwake=!1,this._bgmAudioSource=o;for(var i=0;i<5;i++){var t=this.node.addComponent(s);t.playOnAwake=!1,this._sfxAudioSource.push(t)}e.instance=this}},u.start=function(){var o=localStorage.getItem("is_sound_on");this._isMuted=void 0!==o&&!parseInt(o,10)},u.getAudioClip=function(o){return r.assets.get(o)},u.findVacantAudioPlayer=function(o){for(var i=this._sfxAudioSource.length,t=0;t<i;t++){var e,u=this._sfxAudioSource[t];if(o)if(o===(null==(e=u.clip)?void 0:e.name))return u;if(!u.playing)return u}return null},u.stopAllAudio=function(){localStorage.setItem("is_sound_on","0"),this._bgmAudioSource.pause(),this._sfxAudioSource.forEach((function(o){o.stop()}))},u.continueAllAudio=function(){localStorage.setItem("is_sound_on","1"),this._bgmAudioSource.play()},u.playBGM=function(o,i){var t;if(void 0===i&&(i=1),o!==(null==(t=this._bgmAudioSource.clip)?void 0:t.name)){var e=this.getAudioClip(o);e&&(this._bgmAudioSource.clip=e,this._bgmAudioSource.loop=!0,this._bgmAudioSource.volume=i,this._isMuted||this._bgmAudioSource.play())}},u.stopBGM=function(){this._bgmAudioSource.stop()},u.playSFX=function(o,i,t){if(void 0===i&&(i=1),void 0===t&&(t=!1),!this._isMuted){var e=this.findVacantAudioPlayer(o),u=this.getAudioClip(o);u&&(e.clip=u,e.loop=t,e.volume=i,e.play())}},u.muteAudio=function(o){o?this.stopAllAudio():this.continueAllAudio(),this._isMuted=o},t(e,[{key:"isMuted",get:function(){return this._isMuted}}]),e}(a)).instance=void 0,c=d))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/Board.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e8a03YgKjFG1ImwjiDWPL7A","Board",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/BoardEntity.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){var E;t("BoardEntity",void 0),n._RF.push({},"5b4c1X1tO5GUbFfyaTFWCX1","BoardEntity",void 0),function(t){t[t.EDGE=-1]="EDGE",t[t.TILE=0]="TILE",t[t.OBSTACLE=1]="OBSTACLE",t[t.PLAYER=2]="PLAYER",t[t.FOOD=3]="FOOD"}(E||(E=t("BoardEntity",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonEvent.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){var c;t("BUTTON_EVENT",void 0),n._RF.push({},"43477Kwi2FAq4hnoodMS1RB","ButtonEvent",void 0),function(t){t.CLICKED="clicked"}(c||(c=t("BUTTON_EVENT",{}))),n._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var i,t,e,a,n,s,o,h,c;return{setters:[function(r){i=r.applyDecoratedDescriptor,t=r.inheritsLoose,e=r.initializerDefineProperty,a=r.assertThisInitialized},function(r){n=r.cclegacy,s=r._decorator,o=r.Graphics,h=r.UITransform,c=r.Component}],execute:function(){var u,p,f,l,d,g,v;n._RF.push({},"5ca1bmSNKxI7oJ4dSViTZIb","Card",void 0);var w=s.ccclass,G=s.property;r("Card",(u=w("Card"),p=G(o),f=G(o),u((g=i((d=function(r){function i(){for(var i,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return i=r.call.apply(r,[this].concat(n))||this,e(i,"outerGraphics",g,a(i)),e(i,"baseGraphics",v,a(i)),i.uiTransform=void 0,i}t(i,r);var n=i.prototype;return n.onLoad=function(){this.uiTransform=this.getComponent(h),this.draw()},n.getOuterGraphicsConfig=function(){var r=this.uiTransform;if(r){var i=r.width,t=r.height;return{x:-.5*i,y:-.5*t,width:i,height:t,r:20}}},n.getBaseGraphicsConfig=function(){var r=this.uiTransform;if(r){var i=r.width-12.5,t=r.height-12.5;return{x:-.5*i,y:-.5*t,width:i,height:t,r:20}}},n.draw=function(){this.drawOuterGraphics(),this.drawBaseGraphics()},n.drawOuterGraphics=function(){var r=this.outerGraphics,i=this.getOuterGraphicsConfig();if(r&&i){var t=i.x,e=i.y,a=i.width,n=i.height,s=i.r;r.roundRect(t,e,a,n,s),r.fill()}},n.drawBaseGraphics=function(){var r=this.baseGraphics,i=this.getBaseGraphicsConfig();if(r&&i){var t=i.x,e=i.y,a=i.width,n=i.height,s=i.r;r.roundRect(t,e,a,n,s),r.fill()}},i}(c)).prototype,"outerGraphics",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(d.prototype,"baseGraphics",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d))||l));n._RF.pop()}}}));

System.register("chunks:///_virtual/EntitySpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Asset2.ts","./BoardEntity.ts","./Snake2.ts","./Food.ts","./Snake.ts","./GameScene.ts"],(function(e){"use strict";var t,n,i,o,a,r,s,l,p,y,c,f,d,u,E,S,w,m,g,h,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.Prefab,l=e.assetManager,p=e.instantiate,y=e.Vec2,c=e.Vec3,f=e.Sprite,d=e.UITransform,u=e.Component},function(e){E=e.ASSET_KEY},function(e){S=e.BoardEntity},function(e){w=e.SNAKE_ROLE,m=e.SNAKE_MOVEMENT},function(e){g=e.Food},function(e){h=e.Snake},function(e){x=e.GameScene}],execute:function(){var _,b,v,T,O,C,F,z,P,R,A,I,k,D,L;a._RF.push({},"7504frmoY1Av7yPanffWAGc","EntitySpawner",void 0);var N=r.ccclass,B=r.property;e("EntitySpawner",(_=N("EntitySpawner"),b=B({type:s}),v=B({type:s}),T=B({type:s}),O=B({type:s}),C=B(h),F=B(x),_((R=t((P=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"tile",R,o(t)),i(t,"obstacle",A,o(t)),i(t,"player",I,o(t)),i(t,"food",k,o(t)),i(t,"snake",D,o(t)),i(t,"gameScene",L,o(t)),t._food=void 0,t._foodFoodComp=void 0,t}n(t,e);var a=t.prototype;return a.generateBoard=function(e,t,n){for(var i=t.cell,o=t.cellSize,a=t.boardOffset,r=[l.assets.get(E.SPRITE_TILE_1),l.assets.get(E.SPRITE_TILE_2)],s=[l.assets.get(E.SPRITE_WALL)],f=0;f<i.y;f++)for(var d=0;d<i.x;d++){if(e[f][d]!==S.OBSTACLE){var u=p(this.tile);this.printEntity(u,n,r[d%2^f%2],new y(o.x,o.y),new c(d*o.x-a.x,-f*o.y+a.y,u.position.z))}switch(e[f][d]){case S.OBSTACLE:var w=p(this.obstacle);this.printEntity(w,n,s[0],new y(o.x,o.y),new c(d*o.x-a.x,-f*o.y+a.y,w.position.z))}}},a.spawnSnake=function(e,t,n){var i=this,o=t.cellSize,a=t.boardOffset,r=e.parts,s=e.interval;r.forEach((function(e,u){var S,g,h,x=p(i.player),_=[l.assets.get(E.SPRITESHEET_SNAKE_ROUND+"_0"),l.assets.get(E.SPRITESHEET_SNAKE_ROUND+"_1"),l.assets.get(E.SPRITESHEET_SNAKE_ROUND+"_2"),l.assets.get(E.SPRITESHEET_SNAKE_ROUND+"_3")];if(0===u){if(x.getComponent(f).spriteFrame=_[0],r[u+1]){var b=r[u+1];g=w.HEAD,e.x+1===b.x&&e.y===b.y?(S=new c(0,0,90),h=m.RIGHT,new y(1,0)):e.x===b.x&&e.y-1===b.y?(S=new c(0,0,180),h=m.UP,new y(0,-1)):e.x-1===b.x&&e.y===b.y?(S=new c(0,0,-90),h=m.LEFT,new y(-1,0)):e.x===b.x&&e.y+1===b.y&&(S=new c(0,0,0),h=m.DOWN,new y(0,1))}}else{u===r.length-1?(g=w.TAIL,x.getComponent(f).spriteFrame=_[2]):(g=w.BODY,x.getComponent(f).spriteFrame=_[3]);var v=r[u-1];v&&(e.x+1===v.x&&e.y===v.y?(S=new c(0,0,90),new y(-1,0)):e.x===v.x&&e.y-1===v.y?(S=new c(0,0,0),new y(0,1)):e.x-1===v.x&&e.y===v.y?(S=new c(0,0,-90),new y(1,0)):e.x===v.x&&e.y+1===v.y&&(S=new c(0,0,180),new y(0,-1)))}var T=x.getComponent(d);T.width=o.x,T.height=o.y,x.setRotationFromEuler(S),x.setPosition(new c(e.x*o.x-a.x,-e.y*o.y+a.y,x.position.z)),n.addChild(x),i.snake.addBody(x,e,g,h),i.snake.initSnakeStatus(s.initial,s.accelerateMultiplier,s.accelerateEvery,s.minimum,t.cellSize)}))},a.spawnFood=function(e,t,n){var i=t.cellSize,o=t.boardOffset,a=p(this.food),r=a.getComponent(f),s=a.getComponent(d),y=a.getComponent(g);r.spriteFrame=l.assets.get(E.SPRITE_APPLE),s.width=i.x,s.height=i.y,y.spawnOn(new c(e.x*i.x-o.x,-e.y*i.y+o.y,a.position.z),e),n.addChild(a),this._food=a,this._foodFoodComp=a.getComponent(g),this.gameScene.addEntity(S.FOOD,e)},a.respawnFood=function(e,t){var n=t.cellSize,i=t.boardOffset;this.gameScene.removeEntity(S.FOOD,this._foodFoodComp.gridPosition),this.gameScene.addEntity(S.FOOD,e),this._food.getComponent(g).spawnOn(new c(e.x*n.x-i.x,-e.y*n.y+i.y,this._food.position.z),e)},a.invalidateSnake=function(){this.snake.invalidateSnake()},a.printEntity=function(e,t,n,i,o,a,r){var s=e.getComponent(d);e.getComponent(f).spriteFrame=n,i&&(s.width=i.x,s.height=i.y),o&&e.setPosition(o),a&&e.setRotationFromEuler(a),r&&e.setScale(r),t.addChild(e)},t}(u)).prototype,"tile",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(P.prototype,"obstacle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(P.prototype,"player",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(P.prototype,"food",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(P.prototype,"snake",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(P.prototype,"gameScene",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=P))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/Food.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,e,n,i,s,r,c;return{setters:[function(t){o=t.inheritsLoose,e=t.createClass},function(t){n=t.cclegacy,i=t._decorator,s=t.tween,r=t.Vec3,c=t.Component}],execute:function(){var a;n._RF.push({},"8513aY/BUlIno7FoDHFvjVh","Food",void 0);var u=i.ccclass;i.property,t("Food",u("Food")(a=function(t){function n(){for(var o,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(o=t.call.apply(t,[this].concat(n))||this)._gridPosition=void 0,o}return o(n,t),n.prototype.spawnOn=function(t,o){var e=this.node.scale.z;this._gridPosition=o,this.node.setPosition(t),this.node.setScale(t),this.node.setScale(0,0,e),s(this.node).to(.2,{scale:new r(1,1,e)}).start()},e(n,[{key:"gridPosition",get:function(){return this._gridPosition}}]),n}(c))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Text.ts"],(function(t){"use strict";var e,a,i,r,n,o,c,l,s,p,u,d,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,c=t.CCFloat,l=t.UIOpacity,s=t.Node,p=t.Vec3,u=t.tween,d=t.Component},function(t){y=t.Text}],execute:function(){var h,v,f,b,O,P,w,m,g,C,z;n._RF.push({},"0095cstaChJVaIdPydpCyPs","GameOverCard",void 0);var S=o.ccclass,L=o.property;t("GameOverCard",(h=S("GameOverCard"),v=L({type:c}),f=L(l),b=L(s),O=L(y),h((m=e((w=function(t){function e(){for(var e,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,i(e,"transitionSpeed",m,r(e)),i(e,"layoutOpacity",g,r(e)),i(e,"cardPanel",C,r(e)),i(e,"scoreLabel",z,r(e)),e}a(e,t);var n=e.prototype;return n.show=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),this.node.active=!0;var a=this.cardPanel.scale.z,i='<color="#000">'+t+"</color>";if(this.scoreLabel.changeText(i),!e)return this.node.active=!0,this.layoutOpacity.opacity=255,void(this.cardPanel.scale=new p(1,1,a));this.layoutOpacity.opacity=0,this.cardPanel.scale=new p(0,0,a);var r=u(this.layoutOpacity).to(this.transitionSpeed,{opacity:255}).start(),n=u(this.cardPanel).to(this.transitionSpeed,{scale:new p(1,1,a)}).start();u().parallel(r,n).start()},n.hide=function(t){var e=this;void 0===t&&(t=!1);var a=this.cardPanel.scale.z;if(!t)return this.layoutOpacity.opacity=0,void(this.node.active=!1);this.node.active=!0,this.layoutOpacity.opacity=255,this.cardPanel.scale=new p(1,1,a);var i=u(this.layoutOpacity).to(this.transitionSpeed,{opacity:0}),r=u(this.cardPanel).to(this.transitionSpeed,{scale:new p(0,0,a)});u().parallel(i,r).call((function(){e.node.active=!1})).start()},e}(d)).prototype,"transitionSpeed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),g=e(w.prototype,"layoutOpacity",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(w.prototype,"cardPanel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(w.prototype,"scoreLabel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=w))||P));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Text.ts","./EntitySpawner.ts","./BoardEntity.ts","./ButtonEvent.ts","./Scene.ts","./TransitionScreen2.ts","./LevelGenerator.ts","./TransitionScreen.ts","./GameOverCard.ts","./InvalidSnakeCard.ts"],(function(e){"use strict";var n,t,a,i,r,o,l,s,c,d,h,u,f,g,p,b,v,S,y,_,m,E;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.UITransform,s=e.Button,c=e.Vec2,d=e.director,h=e.randomRange,u=e.Component},function(e){f=e.Text},function(e){g=e.EntitySpawner},function(e){p=e.BoardEntity},function(e){b=e.BUTTON_EVENT},function(e){v=e.SCREEN_KEY},function(e){S=e.TRANSITION_SCREEN_EVENT},function(e){y=e.levelGenerator},function(e){_=e.TransitionScreen},function(e){m=e.GameOverCard},function(e){E=e.InvalidSnakeCard}],execute:function(){var C,x,L,w,T,I,B,G,A,k,F,M,D,O,z,N,R,V,K,P,U,j,Y;r._RF.push({},"40aecIU26ZDlLGN74qERDf1","GameScene",void 0);var q=o.ccclass,H=o.property;e("GameScene",(C=q("GameScene"),x=H(l),L=H(_),w=H(g),T=H(m),I=H(s),B=H(s),G=H(E),A=H(s),k=H(f),F=H(f),C((O=n((D=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n=e.call.apply(e,[this].concat(r))||this,a(n,"gameArea",O,i(n)),a(n,"transitionScreen",z,i(n)),a(n,"boardGenerator",N,i(n)),a(n,"gameOverCard",R,i(n)),a(n,"cancelButton",V,i(n)),a(n,"playAgainButton",K,i(n)),a(n,"invalidSnakeCard",P,i(n)),a(n,"invalidCancelButton",U,i(n)),a(n,"scoreLabel",j,i(n)),a(n,"highscoreLabel",Y,i(n)),n._board=void 0,n._boardMap=void 0,n._boardFreeSpace={},n._isValidGame=!0,n._score=0,n._highscore=0,n}t(n,e);var r=n.prototype;return r.onLoad=function(){var e,n=new URLSearchParams(window.location.search),t=parseInt(n.get("level"),10),a=y(isNaN(t)?void 0:t),i=localStorage.getItem("highscore"),r=new c(null==(e=this.gameArea)?void 0:e.width,this.gameArea.height),o=new c(a.boardConfig.tiles[0].length,a.boardConfig.tiles.length),l=new c(r.x/o.x,r.y/o.y),s=new c(r.x/2-l.x/2,r.y/2-l.y/2);this._highscore=null!==i?parseInt(i,10):0,this._board={boardOffset:s,boardSize:r,cell:o,cellSize:l},this.validateSnake(a.snakeConfig.parts,a.boardConfig.tiles),this.generateMap(a),this.boardGenerator.generateBoard(this._boardMap,this._board,this.gameArea.node),this._isValidGame&&this.boardGenerator.spawnSnake(a.snakeConfig,this._board,this.gameArea.node)},r.start=function(){var e;this._isValidGame||(this.invalidSnakeCard.enabled=!0,this.invalidSnake(),this.boardGenerator.invalidateSnake()),this.gameOverCard.hide(),null==(e=this.transitionScreen)||e.fadeOut(1),this.highscoreLabel.changeText(this._highscore.toString()),this.scoreLabel.changeText(this._score.toString()),this.boardGenerator.spawnFood(this.getRandomFreeSpace(),this._board,this.gameArea.node)},r.onDestroy=function(){var e,n,t,a,i,r,o,l;null==(e=this.transitionScreen)||null==(n=e.node)||n.off(S.FADE_IN_COMPLETE),null==(t=this.cancelButton)||null==(a=t.node)||a.off(b.CLICKED),null==(i=this.invalidCancelButton)||null==(r=i.node)||r.off(b.CLICKED),null==(o=this.playAgainButton)||null==(l=o.node)||l.off(b.CLICKED)},r.generateMap=function(e){var n=this,t=e.boardConfig,a=e.snakeConfig,i=t.tiles,r=a.parts;this.validateSnake(r,i),this._boardMap=i.map((function(e,t){return e.map((function(e,a){switch(e){case p.TILE:n.addBoardFreeSpace(new c(a,t));case p.OBSTACLE:return e}}))})),r.forEach((function(e){n.addEntity(p.PLAYER,e)}))},r.validateSnake=function(e,n){var t=this;e.length<4?this._isValidGame=!1:e.forEach((function(a,i){if(0===n[a.y][a.x])if(0===i){if(e[i+1]){var r=e[i+1];a.x+1===r.x&&a.y===r.y||a.x===r.x&&a.y-1===r.y||a.x-1===r.x&&a.y===r.y||a.x===r.x&&a.y+1===r.y||(t._isValidGame=!1)}}else{var o=e[i-1];o&&(a.x+1===o.x&&a.y===o.y||a.x===o.x&&a.y-1===o.y||a.x-1===o.x&&a.y===o.y||a.x===o.x&&a.y+1===o.y)||(t._isValidGame=!1)}else t._isValidGame=!1}))},r.addBoardFreeSpace=function(e){var n=this._board.cell,t=e.y*n.x+e.x;this._boardFreeSpace[t]=!0},r.removeBoardFreeSpace=function(e){var n=this._board.cell,t=e.y*n.x+e.x;delete this._boardFreeSpace[t]},r.gotoAnotherScene=function(e){var n;d.preloadScene(e),null==(n=this.transitionScreen)||n.fadeIn(1),this.transitionScreen.node.once(S.FADE_IN_COMPLETE,(function(){d.loadScene(e)}))},r.getRandomFreeSpace=function(){var e=Object.keys(this._boardFreeSpace);if(0===e.length)return null;var n=this._board.cell,t=Math.floor(h(0,e.length)),a=parseInt(e[t],10);return new c(Math.floor(a%n.x),Math.floor(a/n.x))},r.removeEntity=function(e,n){var t;(null==(t=this._boardMap[n.y])?void 0:t[n.x])===e&&(this._boardMap[n.y][n.x]=p.TILE,this.addBoardFreeSpace(n))},r.addEntity=function(e,n){var t;(null==(t=this._boardMap[n.y])?void 0:t[n.x])===p.TILE&&(this._boardMap[n.y][n.x]=e,this.removeBoardFreeSpace(n))},r.checkMapCell=function(e){var n,t=null==(n=this._boardMap[e.y])?void 0:n[e.x];return void 0===t?p.EDGE:t},r.snakeEatFood=function(e){this._score++,this.setScore(this._score),this.boardGenerator.respawnFood(this.getRandomFreeSpace(),this._board)},r.setScore=function(e){var n=e.toString();this._score=e,this.scoreLabel.changeText(n),e>this._highscore&&(this._highscore=e,this.highscoreLabel.changeText(n))},r.gameOver=function(){var e=this;this.gameOverCard.show(this._score,!0),localStorage.setItem("highscore",this._highscore.toString()),this.cancelButton.node.once(b.CLICKED,(function(){e.gotoAnotherScene(v.TITLE)})),this.playAgainButton.node.once(b.CLICKED,(function(){e.gotoAnotherScene(v.GAME)}))},r.invalidSnake=function(){var e=this;this.invalidSnakeCard.node.active=!0,this.invalidCancelButton.node.once(b.CLICKED,(function(){e.gotoAnotherScene(v.TITLE)}))},n}(u)).prototype,"gameArea",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=n(D.prototype,"transitionScreen",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(D.prototype,"boardGenerator",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(D.prototype,"gameOverCard",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=n(D.prototype,"cancelButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=n(D.prototype,"playAgainButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=n(D.prototype,"invalidSnakeCard",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=n(D.prototype,"invalidCancelButton",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=n(D.prototype,"scoreLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=n(D.prototype,"highscoreLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=D))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/HighscoreStatusBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Asset2.ts","./StatusBar.ts"],(function(t){"use strict";var s,r,c,e,u;return{setters:[function(t){s=t.inheritsLoose},function(t){r=t.cclegacy,c=t._decorator},function(t){e=t.ASSET_KEY},function(t){u=t.StatusBar}],execute:function(){var a;r._RF.push({},"eb24f3xDsxKuJD1C22wWcyp","HighscoreStatusBar",void 0);var i=c.ccclass;t("HighscoreStatusBar",i("HighscoreStatusBar")(a=function(t){function r(){return t.call(this,"HighscoreStatusBar",e.SPRITE_TROPHY,"0")||this}return s(r,t),r}(u))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/Image.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,n,i,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Sprite,r=t.assetManager,s=t.UITransform,a=t.Component}],execute:function(){var c;o._RF.push({},"9be3aURRBVGH4oN0lkWzccR","Image",void 0);var u=n.ccclass;t("Image",u("Image")(c=function(t){function o(e,o){var n;return(n=t.call(this,e)||this)._logo=void 0,n.textureKey=o,n}e(o,t);var n=o.prototype;return n.onLoad=function(){this._logo=this.node.getComponent(i)},n.start=function(){if(this._logo){var t=r.assets.get(this.textureKey);t&&this.changeSprite(t)}},n.changeSprite=function(t){var e=this.node.getComponent(s),o=e.width,n=e.height;this._logo.spriteFrame=t,e.width=o,e.height=n},o}(a))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/InvalidSnakeCard.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var a,i,e,n,r,o,l,c,s,p,d,u;return{setters:[function(t){a=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,l=t.CCFloat,c=t.UIOpacity,s=t.Node,p=t.Vec3,d=t.tween,u=t.Component}],execute:function(){var y,h,v,f,b,w,P,S,O;r._RF.push({},"6045bEi1nlOjaFAJGdU/Kn1","InvalidSnakeCard",void 0);var g=o.ccclass,z=o.property;t("InvalidSnakeCard",(y=g("InvalidSnakeCard"),h=z({type:l}),v=z(c),f=z(s),y((P=a((w=function(t){function a(){for(var a,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return a=t.call.apply(t,[this].concat(r))||this,e(a,"transitionSpeed",P,n(a)),e(a,"layoutOpacity",S,n(a)),e(a,"cardPanel",O,n(a)),a}i(a,t);var r=a.prototype;return r.show=function(t,a){void 0===a&&(a=!1),this.node.active=!0;var i=this.cardPanel.scale.z;if(!a)return this.node.active=!0,this.layoutOpacity.opacity=255,void(this.cardPanel.scale=new p(1,1,i));this.layoutOpacity.opacity=0,this.cardPanel.scale=new p(0,0,i);var e=d(this.layoutOpacity).to(this.transitionSpeed,{opacity:255}).start(),n=d(this.cardPanel).to(this.transitionSpeed,{scale:new p(1,1,i)}).start();d().parallel(e,n).start()},r.hide=function(t){var a=this;void 0===t&&(t=!1);var i=this.cardPanel.scale.z;if(!t)return this.layoutOpacity.opacity=0,void(this.node.active=!1);this.node.active=!0,this.layoutOpacity.opacity=255,this.cardPanel.scale=new p(1,1,i);var e=d(this.layoutOpacity).to(this.transitionSpeed,{opacity:0}),n=d(this.cardPanel).to(this.transitionSpeed,{scale:new p(0,0,i)});d().parallel(e,n).call((function(){a.node.active=!1})).start()},a}(u)).prototype,"transitionSpeed",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),S=a(w.prototype,"layoutOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=a(w.prototype,"cardPanel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=w))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelGenerator.ts",["cc"],(function(e){"use strict";var n,i,t;return{setters:[function(e){n=e.cclegacy,i=e.math,t=e.Vec2}],execute:function(){n._RF.push({},"a1c8czBesxCNLQ541tsDIAe","LevelGenerator",void 0);e("levelGenerator",(function(e){switch(void 0===e&&(e=Math.floor(i.randomRange(0,3))),e){case 0:return{boardConfig:{tiles:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},snakeConfig:{parts:[new t(1,7),new t(1,8),new t(1,9),new t(1,10)],interval:{initial:.3,accelerateMultiplier:.9,accelerateEvery:2,minimum:.12}}};case 1:return{boardConfig:{tiles:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,0,1,0,1,0,1,1,0],[0,1,0,0,0,0,0,1,0,1,0,0],[0,1,0,1,0,1,1,1,0,1,0,1],[0,0,0,1,0,1,0,0,0,0,0,1],[0,1,1,1,0,1,0,1,0,0,1,1],[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,0,1,1,1,0,1,1,0],[0,0,0,1,0,0,0,0,0,0,0,0],[0,1,0,1,0,1,1,0,0,1,1,0],[0,1,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,1,1,1,0,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},snakeConfig:{parts:[new t(9,5),new t(9,4),new t(10,4),new t(10,3),new t(10,2),new t(11,2),new t(11,1)],interval:{initial:.3,accelerateMultiplier:.9,accelerateEvery:10,minimum:.2}}};case 2:return{boardConfig:{tiles:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,0,0,1,0,0,1,0,1,0],[0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,1,1,1,1,0,0,0,1,0],[0,0,1,0,0,0,1,0,0,0,1,0],[0,0,1,0,0,0,1,0,1,0,1,0],[0,0,1,0,0,1,1,0,0,0,1,0],[0,0,1,0,0,0,0,0,0,0,1,0],[0,0,1,0,0,0,0,0,0,0,1,0],[0,0,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},snakeConfig:{parts:[new t(4,7),new t(5,7),new t(5,6),new t(4,6),new t(3,6),new t(3,7)],interval:{initial:.3,accelerateMultiplier:.9,accelerateEvery:5,minimum:.2}}};default:return{boardConfig:{tiles:[[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0]]},snakeConfig:{parts:[new t(1,7),new t(1,8),new t(1,9),new t(1,9)],interval:{initial:.3,accelerateMultiplier:.9,accelerateEvery:2,minimum:.12}}}}}));n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var r,t,a,e,n,h,o,s,c;return{setters:[function(i){r=i.applyDecoratedDescriptor,t=i.inheritsLoose,a=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){n=i.cclegacy,h=i._decorator,o=i.Graphics,s=i.UITransform,c=i.Component}],execute:function(){var u,p,f,l,g,d,G,v,w;n._RF.push({},"891697IJ2BAkacptozpFsbD","LoadingBar",void 0);var y=h.ccclass,m=h.property;i("LoadingBar",(u=y("LoadingBar"),p=m(o),f=m(o),l=m(o),u((G=r((d=function(i){function r(){for(var r,t=arguments.length,n=new Array(t),h=0;h<t;h++)n[h]=arguments[h];return r=i.call.apply(i,[this].concat(n))||this,a(r,"outerGraphics",G,e(r)),a(r,"innerGraphics",v,e(r)),a(r,"baseGraphics",w,e(r)),r.uiTransform=void 0,r}t(r,i);var n=r.prototype;return n.onLoad=function(){this.uiTransform=this.getComponent(s),this.draw()},n.getOuterGraphicsConfig=function(){var i=this.uiTransform;if(i){var r=i.width,t=i.height;return{x:-.5*r,y:-.5*t,width:r,height:t,r:.5*Math.min(r,t)}}},n.getInnerGraphicsConfig=function(i){var r=this.uiTransform;if(r){var t=r.width-12.5,a=t*(i/100),e=r.height-12.5;return{x:-.5*t,y:-.5*e,width:a,height:e,r:.5*Math.min(a,e)}}},n.getBaseGraphicsConfig=function(){var i=this.uiTransform;if(i){var r=i.width-12.5,t=i.height-12.5;return{x:-.5*r,y:-.5*t,width:r,height:t,r:.5*Math.min(r,t)}}},n.draw=function(){this.drawOuterGraphics(),this.drawBaseGraphics()},n.drawOuterGraphics=function(){var i=this.outerGraphics,r=this.getOuterGraphicsConfig();if(i&&r){var t=r.x,a=r.y,e=r.width,n=r.height,h=r.r;i.roundRect(t,a,e,n,h),i.fill()}},n.drawBaseGraphics=function(){var i=this.baseGraphics,r=this.getBaseGraphicsConfig();if(i&&r){var t=r.x,a=r.y,e=r.width,n=r.height,h=r.r;i.roundRect(t,a,e,n,h),i.fill()}},n.drawInnerGraphics=function(i){var r=this.innerGraphics,t=this.getInnerGraphicsConfig(i);if(r&&t){var a=t.x,e=t.y,n=t.width,h=t.height,o=t.r;r.clear(),r.roundRect(a,e,n,h,o),r.fill()}},r}(c)).prototype,"outerGraphics",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(d.prototype,"innerGraphics",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=r(d.prototype,"baseGraphics",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=d))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AssetLoader.ts","./EntitySpawner.ts","./LevelGenerator.ts","./AudioManager.ts","./Card.ts","./Image.ts","./StatusBar.ts","./Text.ts","./Asset3.ts","./PreloadControl.ts","./SnakeControl.ts","./Asset2.ts","./AssetLoader2.ts","./BoardEntity.ts","./ButtonEvent.ts","./PreloadControl2.ts","./Scene.ts","./Snake2.ts","./TransitionScreen2.ts","./VirtualPad2.ts","./Asset4.ts","./Board.ts","./AudioButton.ts","./Food.ts","./AssetLoadingUI.ts","./LoadingBar.ts","./PlayButton.ts","./Snake.ts","./SnakeBodyPart.ts","./TransitionScreen.ts","./VirtualPad.ts","./GameScene.ts","./PreloadScene.ts","./TitleScene.ts","./GameOverCard.ts","./HighscoreStatusBar.ts","./InvalidSnakeCard.ts","./ScoreStatusBar.ts","./TitleLogo.ts","./asset.ts","./spritesheet.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PlayButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonEvent.ts"],(function(t){"use strict";var n,e,o,s,c,i,r,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,s=t.Node,c=t.tween,i=t.v3,r=t.Component},function(t){u=t.BUTTON_EVENT}],execute:function(){var a;e._RF.push({},"9eb1bPm3cRP2qjCt8rVJTIY","PlayButton",void 0);var E=o.ccclass;o.property,t("PlayButton",E("PlayButton")(a=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.start=function(){var t=this;this.node.on(s.EventType.MOUSE_ENTER,(function(){c(t.node).to(.15,{scale:i(1.05,1.05,t.node.scale.z)}).start()})),this.node.on(s.EventType.MOUSE_LEAVE,(function(){c(t.node).to(.2,{scale:i(1,1,t.node.scale.z)}).start()})),this.node.on(s.EventType.MOUSE_DOWN,(function(){c(t.node).to(.1,{scale:i(.95,.95,t.node.scale.z)}).start()})),this.node.on(s.EventType.MOUSE_UP,(function(){c(t.node).to(.1,{scale:i(1,1,t.node.scale.z)}).start()}))},o.onClick=function(){this.node.emit(u.CLICKED)},o.onDestroy=function(){this.node.off(s.EventType.MOUSE_ENTER),this.node.off(s.EventType.MOUSE_LEAVE),this.node.off(s.EventType.MOUSE_DOWN),this.node.off(s.EventType.MOUSE_UP)},e}(r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/PreloadControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PreloadControl2.ts"],(function(t){"use strict";var e,o,n,r,i,a,s,c,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,s=t.UITransform,c=t.Node,l=t.Component},function(t){u=t.PRELOAD_CONTROL_EVENT}],execute:function(){var p,h,f,v,d;i._RF.push({},"b75f4yGQoZOVphvpJorNblh","PreloadControl",void 0);var y=a.ccclass,C=a.property;t("PreloadControl",(p=y("PreloadControl"),h=C(s),p((d=e((v=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"canvas",d,r(e)),e}o(e,t);var i=e.prototype;return i.start=function(){var t=this.getComponent(s);t.width=this.canvas.width,t.height=this.canvas.height},i.onDestroy=function(){this.node.off(c.EventType.TOUCH_END)},i.registerTouchEvent=function(){var t=this;this.node.on(c.EventType.TOUCH_END,(function(){t.node.emit(u.TOUCHED)}))},e}(l)).prototype,"canvas",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/PreloadControl2.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var o;t("PRELOAD_CONTROL_EVENT",void 0),e._RF.push({},"faa2eVt2eVII6npkBVE+z5K","PreloadControl",void 0),function(t){t.TOUCHED="touched"}(o||(o=t("PRELOAD_CONTROL_EVENT",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/PreloadScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AssetLoader.ts","./PreloadControl.ts","./Asset2.ts","./AssetLoader2.ts","./PreloadControl2.ts","./Scene.ts","./TransitionScreen2.ts","./TransitionScreen.ts","./Text.ts","./TitleLogo.ts","./AssetLoadingUI.ts"],(function(e){"use strict";var t,n,o,r,i,a,s,l,c,u,d,E,f,p,L,T,S,g,A,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.director,l=e.assetManager,c=e.Component},function(e){u=e.AssetLoader},function(e){d=e.PreloadControl},function(e){E=e.ASSET_KEY},function(e){f=e.ASSET_LOADER_EVENT},function(e){p=e.PRELOAD_CONTROL_EVENT},function(e){L=e.SCREEN_KEY},function(e){T=e.TRANSITION_SCREEN_EVENT},function(e){S=e.TransitionScreen},function(e){g=e.Text},function(e){A=e.TitleLogo},function(e){_=e.AssetLoadingUI}],execute:function(){var O,h,C,I,b,U,P,y,D,v,m,N,R,x,M;i._RF.push({},"111fd8bBDlIhZZE1s6WIOkz","PreloadScene",void 0);var w=a.ccclass,z=a.property;e("PreloadScene",(O=w("PreloadScene"),h=z(u),C=z(_),I=z(d),b=z(S),U=z(A),P=z([g]),O((v=t((D=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"assetLoader",v,r(t)),o(t,"assetLoadingUI",m,r(t)),o(t,"preloadControl",N,r(t)),o(t,"transitionScreen",R,r(t)),o(t,"gameLogo",x,r(t)),o(t,"preloadTexts",M,r(t)),t}n(t,e);var i=t.prototype;return i.start=function(){this.startAssetLoad()},i.onDestroy=function(){var e,t,n,o,r=this.assetLoader,i=null==r?void 0:r.node;i&&(i.off(f.ASSET_LOAD_FAILURE),i.off(f.ASSET_LOAD_SUCCESS),i.off(f.COMPLETE)),null==(e=this.preloadControl)||null==(t=e.node)||t.off(p.TOUCHED),null==(n=this.transitionScreen)||null==(o=n.node)||o.off(T.FADE_IN_COMPLETE)},i.startAssetLoad=function(){var e=this,t=this.assetLoader;t?(t.node.on(f.ASSET_LOAD_FAILURE,(function(t,n){e.assetLoadingUI.updateText(t,'Error on load "'+n+'"')})),t.node.on(f.ASSET_LOAD_SUCCESS,(function(t,n){e.assetLoadingUI.updateText(t,n),e.applyAssetOnAssetLoad(n)})),t.node.on(f.COMPLETE,(function(t){e.assetLoadingUI.updateText(t,"CLICK TO ENTER"),e.onComplete()})),t.startAssetsLoad()):this.assetLoadingUI.updateText(0,"Unknown error occured")},i.onComplete=function(){var e=this;this.preloadControl.registerTouchEvent(),this.preloadControl.node.once(p.TOUCHED,(function(){e.goToTitleScene()}))},i.goToTitleScene=function(){var e,t;s.preloadScene(L.TITLE),null==(e=this.transitionScreen)||e.fadeIn(1),null==(t=this.transitionScreen)||t.node.once(T.FADE_IN_COMPLETE,(function(){s.loadScene(L.TITLE)}))},i.applyAssetOnAssetLoad=function(e){switch(e){case E.LOGO_SHOPEE_ULAR:var t=l.assets.get(E.LOGO_SHOPEE_ULAR);this.gameLogo.changeSprite(t);break;case E.FONT_SHOPEEE_MEDIUM:var n=l.assets.get(E.FONT_SHOPEEE_MEDIUM);this.preloadTexts.forEach((function(e){e.changeFont(n)}))}},t}(c)).prototype,"assetLoader",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(D.prototype,"assetLoadingUI",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(D.prototype,"preloadControl",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(D.prototype,"transitionScreen",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(D.prototype,"gameLogo",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(D.prototype,"preloadTexts",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=D))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/Scene.ts",["cc"],(function(e){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){var t;e("SCREEN_KEY",void 0),c._RF.push({},"c14f1Ipr7NFl7PXQJqDzt1d","Scene",void 0),function(e){e.PRELOAD="PreloadScene",e.TITLE="TitleScene",e.GAME="GameScene"}(t||(t=e("SCREEN_KEY",{}))),c._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreStatusBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Asset2.ts","./StatusBar.ts"],(function(t){"use strict";var r,s,c,e,u;return{setters:[function(t){r=t.inheritsLoose},function(t){s=t.cclegacy,c=t._decorator},function(t){e=t.ASSET_KEY},function(t){u=t.StatusBar}],execute:function(){var a;s._RF.push({},"6f596tjXTlG46GDASq2BdmF","ScoreStatusBar",void 0);var n=c.ccclass;t("ScoreStatusBar",n("ScoreStatusBar")(a=function(t){function s(){return t.call(this,"ScoreStatusBar",e.SPRITE_APPLE,"0")||this}return r(s,t),s}(u))||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/Snake.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./SnakeControl.ts","./Asset2.ts","./BoardEntity.ts","./Snake2.ts","./GameScene.ts","./SnakeBodyPart.ts"],(function(e){"use strict";var t,i,n,o,a,s,r,d,h,_,c,l,u,p,k,S,g,v,m,y,f,E,B,C,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,r=e._decorator,d=e.Prefab,h=e.Node,_=e.Vec2,c=e.Quat,l=e.Vec3,u=e.instantiate,p=e.UITransform,k=e.Sprite,S=e.assetManager,g=e.Component},function(e){v=e.AudioManager},function(e){m=e.SnakeControl},function(e){y=e.ASSET_KEY},function(e){f=e.BoardEntity},function(e){E=e.SNAKE_CONTROL,B=e.SNAKE_ROLE},function(e){C=e.GameScene},function(e){P=e.SnakeBodyPart}],execute:function(){var R,T,b,x,A,L,D,w,H,N,O;s._RF.push({},"97046w0JqRB95QvTWQ4Uil/","Snake",void 0);var F=r.ccclass,I=r.property;e("Snake",(R=F("Snake"),T=I(m),b=I(d),x=I(C),A=I(h),R((w=t((D=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(t,"snakeControl",w,o(t)),n(t,"snakePrefab",H,o(t)),n(t,"gameScene",N,o(t)),n(t,"pretextGameBar",O,o(t)),t._initial=void 0,t._accelerateMultiplier=void 0,t._accelerateEvery=void 0,t._minimum=void 0,t._snakeSize=void 0,t._speed=void 0,t._eatCount=0,t._direction=_.ZERO,t._nextDirection=void 0,t._rotation=void 0,t._nextRotation=void 0,t._snakeBodies=[],t._snakeHead=void 0,t._snakeBodyParts=[],t._snakeHeadBodyPart=void 0,t._eligibleToMove=!1,t._invalidateSnake=!1,t._movingPart=0,t._currSnakeLength=0,t._timeSinceLastUpdate=0,t}i(t,e);var s=t.prototype;return s.start=function(){var e=this;this._invalidateSnake||(this.initialSnakeStat(),this._eatCount=0,this.snakeControl.node.on(E.CHANGE_DIRECTION,(function(t,i){if(e._nextDirection=t,e._nextRotation=new c,c.fromAngleZ(e._nextRotation,i),!e._eligibleToMove)return e._direction=e._nextDirection,e._rotation=e._nextRotation,e._eligibleToMove=!0,e.moveSnake(),void(e.pretextGameBar.active=!1)})))},s.update=function(e){this._eligibleToMove&&this._speed&&(this._timeSinceLastUpdate+=e,this._timeSinceLastUpdate<this._speed||(this._timeSinceLastUpdate-=this._speed,this.snakeControl.updateForbidInput(),this.moveSnake()))},s.onDestroy=function(){this.purgeEventListener()},s.purgeEventListener=function(){var e;null!=(e=this.snakeControl)&&e.node&&this.snakeControl.node.off(E.CHANGE_DIRECTION)},s.moveSnake=function(){var e=this._snakeBodies.length;this._nextDirection&&(this._nextDirection.x===this._direction.x&&this._nextDirection.y===this._direction.y||v.instance.playSFX(y.SFX_TURN),this._direction=this._nextDirection,this._nextDirection=null),this._nextRotation&&(this._rotation=this._nextRotation,this._nextRotation=null);for(var t=this._snakeBodyParts[e-1].gridPosition,i=new _(this._snakeHeadBodyPart.gridPosition.x+this._direction.x,this._snakeHeadBodyPart.gridPosition.y+this._direction.y),n=e-1;n>0;n--){var o=this._snakeBodyParts[n],a=this._snakeBodyParts[n-1],s=this._snakeBodyParts[n+1];o.moveTo(a.position,a.gridPosition,a.rotation,this._speed),o.isDisgest&&(o.disgestFood(!1),s?s.disgestFood(!0):this.snakeGrow())}this._snakeHeadBodyPart.moveTo(new l(this._snakeHeadBodyPart.position.x+this._direction.x*this._snakeSize.x,this._snakeHeadBodyPart.position.y-this._direction.y*this._snakeSize.y,this._snakeHeadBodyPart.position.z),i,this._rotation,this._speed),this.gameScene.removeEntity(f.PLAYER,t),this.validateStep(i),this.gameScene.addEntity(f.PLAYER,i)},s.snakeEat=function(e){this.gameScene.snakeEatFood(e),this._snakeBodyParts[1].disgestFood(!0)},s.snakeGrow=function(){var e=u(this.snakePrefab),t=e.getComponent(p),i=e.getComponent(k),n=e.getComponent(P),o=this._snakeBodies[this._snakeBodies.length-1],a=o.getComponent(p),s=o.getComponent(k),r=o.getComponent(P);i.spriteFrame=S.assets.get(y.SPRITESHEET_SNAKE_ROUND+"_2"),t.width=a.width,t.height=a.height,e.position=new l(o.position),e.rotation=new c(o.rotation),s.spriteFrame=S.assets.get(y.SPRITESHEET_SNAKE_ROUND+"_3"),a.width=t.width,a.height=t.height,r.changeRole(B.BODY),n.init(r.gridPosition,B.TAIL),this.addBody(e,new _(r.gridPosition),B.TAIL),o.parent.addChild(e),this._eatCount++,this.accelerateSpeed(),this.gameScene.addEntity(f.PLAYER,r.gridPosition)},s.accelerateSpeed=function(){if(this._eatCount%this._accelerateEvery==0){console.log("ACCEEELLEERAATTIOOONNN!!!!!");var e=this._speed*this._accelerateMultiplier;e>=this._minimum?(this._speed=e,console.log("Current speed : "+this._speed)):(this._speed=this._minimum,console.log("Speed limit reached : "+this._speed))}},s.stopSnake=function(){var e;v.instance.playSFX(y.SFX_CRASH),this._eligibleToMove=!1,this._snakeBodyParts.forEach((function(e){e.stopMove()})),null!=(e=this.snakeControl)&&e.node&&this.snakeControl.node.off(E.CHANGE_DIRECTION),this.gameScene.gameOver()},s.validateStep=function(e){switch(this.gameScene.checkMapCell(e)){case f.FOOD:v.instance.playSFX(y.SFX_EAT),this.snakeEat(e);break;case f.OBSTACLE:case f.PLAYER:case f.EDGE:this.stopSnake()}},s.initialSnakeStat=function(){this._eligibleToMove=!1,this._speed=this._initial,this._direction=_.ZERO},s.initSnakeStatus=function(e,t,i,n,o){e&&(this._initial=e),t&&(this._accelerateMultiplier=t),i&&(this._accelerateEvery=i),n&&(this._minimum=n),o&&(this._snakeSize=o)},s.addBody=function(e,t,i,n){var o=e.getComponent(P);o.init(t,i),this._snakeHead||(this._snakeHead=e,this._snakeHeadBodyPart=o,this.snakeControl.editForbidInput(n)),this._snakeBodyParts.push(o),this._snakeBodies.push(e)},s.invalidateSnake=function(){this._invalidateSnake=!0,this.purgeEventListener()},a(t,[{key:"snakeLength",get:function(){return this._snakeBodies.length}},{key:"snakeLastBody",get:function(){return this._snakeBodies[this._snakeBodies.length]}}]),t}(g)).prototype,"snakeControl",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(D.prototype,"snakePrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(D.prototype,"gameScene",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(D.prototype,"pretextGameBar",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=D))||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/Snake2.ts",["cc"],(function(n){"use strict";var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){var o,t,a,i;n({SNAKE_ACTION:void 0,SNAKE_CONTROL:void 0,SNAKE_MOVEMENT:void 0,SNAKE_ROLE:void 0}),e._RF.push({},"971ef2N3rNClaaTXKljAX29","Snake",void 0),function(n){n.UP="snakeMoveUp",n.DOWN="snakeMoveDown",n.LEFT="snakeMoveLeft",n.RIGHT="snakeMoveRight"}(o||(o=n("SNAKE_MOVEMENT",{}))),function(n){n.START_MOVING="snakeControlStartMoving",n.END_MOVING="snakeControlEndMoving",n.CHANGE_DIRECTION="snakeControlChangeDirection"}(t||(t=n("SNAKE_CONTROL",{}))),function(n){n.TURNING="snakeActionTurning",n.EAT="snakeActionEat",n.DISGET="snakeActionDisgest",n.GROW="snakeActionGrow"}(a||(a=n("SNAKE_ACTION",{}))),function(n){n.HEAD="snakeRoleHead",n.BODY="snakeRoleBody",n.TAIL="snakeRoleTail"}(i||(i=n("SNAKE_ROLE",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/SnakeBodyPart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Asset2.ts","./Snake2.ts"],(function(t){"use strict";var o,i,n,e,s,r,a,h,_,d,c,f,u;return{setters:[function(t){o=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,e=t._decorator,s=t.UITransform,r=t.tween,a=t.Sprite,h=t.Vec3,_=t.assetManager,d=t.Color,c=t.Component},function(t){f=t.ASSET_KEY},function(t){u=t.SNAKE_CONTROL}],execute:function(){var g;n._RF.push({},"0bf57ORmHdIT7I5ioW7UMw7","SnakeBodyPart",void 0);var m=e.ccclass;e.property,t("SnakeBodyPart",m("SnakeBodyPart")(g=function(t){function n(){for(var o,i=arguments.length,n=new Array(i),e=0;e<i;e++)n[e]=arguments[e];return(o=t.call.apply(t,[this].concat(n))||this)._transform=void 0,o._width=void 0,o._height=void 0,o._role=void 0,o._gridPosition=void 0,o._position=void 0,o._rotation=void 0,o._moveAnimation=void 0,o._nextBody=void 0,o._isDisgest=void 0,o}o(n,t);var e=n.prototype;return e.onLoad=function(){this._transform=this.node.getComponent(s)},e.init=function(t,o){this._transform=this.node.getComponent(s),this._position=this.node.position,this._rotation=this.node.rotation,this._gridPosition=t,this._role=o,this._width=this._transform.width,this._height=this._transform.height},e.changeRole=function(t){this._role=t},e.moveTo=function(t,o,i,n){var e=this;if(this._position=t,this._gridPosition=o,this._rotation=i,this._moveAnimation&&this.stopMove(),r(this.node).to(n,{rotation:i}).start(),this.isDisgest){var s=this.node.getComponent(a),c=r(this.node).by(n/2,{scale:new h(.55,.5,0)},{onStart:function(){e.node.getComponent(a).spriteFrame=_.assets.get(f.SPRITESHEET_SNAKE_ROUND+"_1"),e._transform.width=e._width,e._transform.height=e._height,s.color=new d("c7fca4")}}),g=r(this.node).to(n/2,{scale:new h(1,1,1)},{onComplete:function(){e.node.getComponent(a).spriteFrame=_.assets.get(f.SPRITESHEET_SNAKE_ROUND+"_3"),e._transform.width=e._width,e._transform.height=e._height,s.color=new d("ffffff")}});r(this.node).sequence(c,g).start()}this._moveAnimation=r(this.node).to(n,{position:t},{onStart:function(){e.node.emit(u.START_MOVING)},onComplete:function(){e._position=t,e._rotation=i,e.node.emit(u.END_MOVING)}}).start()},e.stopMove=function(){this._moveAnimation.stop()},e.disgestFood=function(t){this._isDisgest=t},i(n,[{key:"position",get:function(){return this._position}},{key:"gridPosition",get:function(){return this._gridPosition}},{key:"rotation",get:function(){return this._rotation}},{key:"isDisgest",get:function(){return this._isDisgest}}]),n}(c))||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/SnakeControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snake2.ts","./VirtualPad2.ts","./VirtualPad.ts"],(function(t){"use strict";var n,e,o,i,r,a,u,d,s,l,v,c,f,h,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.input,d=t.Input,s=t.KeyCode,l=t.Vec2,v=t.Component},function(t){c=t.SNAKE_MOVEMENT,f=t.SNAKE_CONTROL},function(t){h=t.VIRTUAL_PAD_CONTROL},function(t){p=t.VirtualPad}],execute:function(){var _,I,M,R,b;r._RF.push({},"866a7mZTBpEZrtlxnZ1JkLo","SnakeControl",void 0);var E=a.ccclass,T=a.property;t("SnakeControl",(_=E("SnakeControl"),I=T(p),_((b=n((R=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,o(n,"virtualPad",b,i(n)),n._nextForbidMove=void 0,n._forbidMove=void 0,n}e(n,t);var r=n.prototype;return r.start=function(){var t=this;this.virtualPad.node.on(h.UP,(function(){t.handleMoveUpInput()})),this.virtualPad.node.on(h.RIGHT,(function(){t.handleMoveRightInput()})),this.virtualPad.node.on(h.DOWN,(function(){t.handleMoveDownInput()})),this.virtualPad.node.on(h.LEFT,(function(){t.handleMoveLeftInput()})),u.on(d.EventType.KEY_DOWN,(function(n){switch(n.keyCode){case s.ARROW_UP:t.handleMoveUpInput();break;case s.ARROW_RIGHT:t.handleMoveRightInput();break;case s.ARROW_DOWN:t.handleMoveDownInput();break;case s.ARROW_LEFT:t.handleMoveLeftInput()}}))},r.onDestroy=function(){var t,n=null==(t=this.virtualPad)?void 0:t.node;n&&(n.off(h.UP),n.off(h.RIGHT),n.off(h.DOWN),n.off(h.LEFT)),u.off(d.EventType.KEY_DOWN)},r.handleMoveUpInput=function(){this._forbidMove!==c.UP&&(this._nextForbidMove=c.DOWN,this.node.emit(f.CHANGE_DIRECTION,new l(0,-1),0))},r.handleMoveRightInput=function(){this._forbidMove!==c.RIGHT&&(this._nextForbidMove=c.LEFT,this.node.emit(f.CHANGE_DIRECTION,new l(1,0),-90))},r.handleMoveLeftInput=function(){this._forbidMove!==c.LEFT&&(this._nextForbidMove=c.RIGHT,this.node.emit(f.CHANGE_DIRECTION,new l(-1,0),90))},r.handleMoveDownInput=function(){this._forbidMove!==c.DOWN&&(this._nextForbidMove=c.UP,this.node.emit(f.CHANGE_DIRECTION,new l(0,1),180))},r.editForbidInput=function(t){this._forbidMove=t},r.updateForbidInput=function(){this._nextForbidMove&&(this._forbidMove=this._nextForbidMove)},n}(v)).prototype,"virtualPad",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=R))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/spritesheet.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("getSpriteFrameKey",(function(e,t){if(void 0!==t)return e+"_"+t;return e})),t._RF.push({},"f7e00XaysNH9qmIobrR5n6w","spritesheet",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/StatusBar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Image.ts","./Text.ts"],(function(t){"use strict";var e,i,a,n,r,s,c,o,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,c=t.assetManager,o=t.Component},function(t){l=t.Image},function(t){u=t.Text}],execute:function(){var p,h,f,g,b,y,v;r._RF.push({},"348087qv7xF2YQOXz8iNmBI","StatusBar",void 0);var x=s.ccclass,S=s.property;t("StatusBar",(p=x("StatusBar"),h=S(u),f=S(l),p((y=e((b=function(t){function e(e,i,r){var s;return s=t.call(this,e)||this,a(s,"label",y,n(s)),a(s,"icon",v,n(s)),s.textureKey=i,s.initialLabel=r,s}i(e,t);var r=e.prototype;return r.start=function(){if(this.label.changeText(this.initialLabel),this.icon){var t=c.assets.get(this.textureKey);t&&this.changeSprite(t)}},r.changeText=function(t){this.label.changeText(t)},r.changeSprite=function(t){this.icon.changeSprite(t)},e}(o)).prototype,"label",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(b.prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/Text.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Asset2.ts"],(function(t){"use strict";var e,n,o,s,i,c,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,s=t.RichText,i=t.Label,c=t.assetManager,r=t.Component},function(t){a=t.ASSET_KEY}],execute:function(){var u;n._RF.push({},"5739cqGqWxPzIYJZ0HaXlH0","Text",void 0);var h=o.ccclass;t("Text",h("Text")(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this)._text=void 0,e}e(n,t);var o=n.prototype;return o.onLoad=function(){this._text=this.node.getComponent(s),this._text||(this._text=this.node.getComponent(i))},o.start=function(){if(this._text){var t=c.assets.get(a.FONT_SHOPEEE_MEDIUM);t&&this.changeFont(t)}},o.changeFont=function(t){this._text.font=t},o.changeText=function(t){this._text.string=t},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/TitleLogo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Asset2.ts","./Image.ts"],(function(t){"use strict";var e,o,i,n,c;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator},function(t){n=t.ASSET_KEY},function(t){c=t.Image}],execute:function(){var s;o._RF.push({},"6d682/Q8WNN1JY1f18Dvm4a","TitleLogo",void 0);var r=i.ccclass;t("TitleLogo",r("TitleLogo")(s=function(t){function o(){return t.call(this,"TitleLogo",n.LOGO_SHOPEE_ULAR)||this}return e(o,t),o}(c))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/TitleScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./Text.ts","./Asset2.ts","./ButtonEvent.ts","./Scene.ts","./TransitionScreen2.ts","./TransitionScreen.ts"],(function(n){"use strict";var e,t,i,o,r,a,c,l,u,s,f,p,S,h,E,T;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,c=n.Button,l=n.director,u=n.Component},function(n){s=n.AudioManager},function(n){f=n.Text},function(n){p=n.ASSET_KEY},function(n){S=n.BUTTON_EVENT},function(n){h=n.SCREEN_KEY},function(n){E=n.TRANSITION_SCREEN_EVENT},function(n){T=n.TransitionScreen}],execute:function(){var d,g,y,_,b,B,v,I,A;r._RF.push({},"4afd86ricBN6oxd6Bh2I7Bn","TitleScene",void 0);var C=a.ccclass,M=a.property;n("TitleScene",(d=C("TitleScene"),g=M(T),y=M(c),_=M(f),d((v=e((B=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,i(e,"transitionScreen",v,o(e)),i(e,"playButton",I,o(e)),i(e,"highscoreLabel",A,o(e)),e}t(e,n);var r=e.prototype;return r.start=function(){var n,e,t=this,i=localStorage.getItem("highscore");null!==i&&this.highscoreLabel.changeText(i),null==(n=this.transitionScreen)||n.fadeOut(1),s.instance.playBGM(p.BGM_MUSIC),null==(e=this.playButton)||e.node.once(S.CLICKED,(function(){t.goToGameScreen()}))},r.onDestroy=function(){var n,e,t,i;null==(n=this.playButton)||null==(e=n.node)||e.off(S.CLICKED),null==(t=this.transitionScreen)||null==(i=t.node)||i.off(E.FADE_IN_COMPLETE)},r.goToGameScreen=function(){var n,e;l.preloadScene(h.GAME),null==(n=this.transitionScreen)||n.fadeIn(1),null==(e=this.transitionScreen)||e.node.once(E.FADE_IN_COMPLETE,(function(){l.loadScene(h.GAME)}))},e}(u)).prototype,"transitionScreen",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(B.prototype,"playButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(B.prototype,"highscoreLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=B))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/TransitionScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TransitionScreen2.ts"],(function(t){"use strict";var n,i,o,e,c,r,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,e=t.UIOpacity,c=t.tween,r=t.Component},function(t){a=t.TRANSITION_SCREEN_EVENT}],execute:function(){var s;i._RF.push({},"2ee56oIfndPyZFMOWwLochq","TransitionScreen",void 0);var u=o.ccclass;o.property,t("TransitionScreen",u("TransitionScreen")(s=function(t){function i(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this).uiOpacity=void 0,n}n(i,t);var o=i.prototype;return o.onLoad=function(){this.uiOpacity=this.node.getComponent(e)},o.setOpacity=function(t){this.uiOpacity&&(this.uiOpacity.opacity=t)},o.fadeIn=function(t){var n=this;void 0===t&&(t=1),this.setOpacity(0),c(this.uiOpacity).to(t,{opacity:255},{onStart:function(){n.node.emit(a.FADE_IN_START)},onComplete:function(){n.node.emit(a.FADE_IN_COMPLETE)}}).start()},o.fadeOut=function(t){var n=this;void 0===t&&(t=1),this.setOpacity(255),c(this.uiOpacity).to(t,{opacity:0},{onStart:function(){n.node.emit(a.FADE_IN_START)},onComplete:function(){n.node.emit(a.FADE_IN_COMPLETE)}}).start()},i}(r))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/TransitionScreen2.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){var _;t("TRANSITION_SCREEN_EVENT",void 0),e._RF.push({},"a4294BLd9lKzbwxJSu11I8k","TransitionScreen",void 0),function(t){t.FADE_IN_START="fade_in_start",t.FADE_IN_COMPLETE="fade_in_complete",t.FADE_OUT_START="fade_out_start",t.FADE_OUT_COMPLETE="fade_out_complete"}(_||(_=t("TRANSITION_SCREEN_EVENT",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualPad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Asset2.ts","./VirtualPad2.ts"],(function(t){"use strict";var e,r,n,o,i,l,a,s,u,p,h,w,A,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,a=t.Component,s=t.UITransform,u=t.Vec2,p=t.assetManager,h=t.Sprite,w=t.Input},function(t){A=t.ASSET_KEY},function(t){T=t.VIRTUAL_PAD_CONTROL}],execute:function(){var c,f,d,g,y,m,_,v,C,E,P;i._RF.push({},"561f8qT9YRBM7Qqi7aqPTu0","VirtualPad",void 0);var R=l.ccclass,b=l.property;t("VirtualPad",(c=R("VirtualPad"),f=b(a),d=b(a),g=b(a),y=b(a),c((v=e((_=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,n(e,"upArrow",v,o(e)),n(e,"leftArrow",C,o(e)),n(e,"downArrow",E,o(e)),n(e,"rightArrow",P,o(e)),e}r(e,t);var i=e.prototype;return i.onLoad=function(){var t=this.upArrow.getComponent(s),e=this.downArrow.getComponent(s),r=this.leftArrow.getComponent(s),n=this.rightArrow.getComponent(s),o=new u(t.width,t.height),i=p.assets.get(A.KEYPAD+"_1"),l=p.assets.get(A.KEYPAD+"_3"),a=p.assets.get(A.KEYPAD+"_4"),w=p.assets.get(A.KEYPAD+"_5");this.upArrow.getComponent(h).spriteFrame=i,this.leftArrow.getComponent(h).spriteFrame=l,this.downArrow.getComponent(h).spriteFrame=a,this.rightArrow.getComponent(h).spriteFrame=w,t.width=o.x,t.height=o.y,e.width=o.x,e.height=o.y,r.width=o.x,r.height=o.y,n.width=o.x,n.height=o.y},i.start=function(){var t=this;this.upArrow.node.on(w.EventType.TOUCH_START,(function(){t.node.emit(T.UP)})),this.leftArrow.node.on(w.EventType.TOUCH_START,(function(){t.node.emit(T.LEFT)})),this.downArrow.node.on(w.EventType.TOUCH_START,(function(){t.node.emit(T.DOWN)})),this.rightArrow.node.on(w.EventType.TOUCH_START,(function(){t.node.emit(T.RIGHT)}))},i.onDestroy=function(){var t,e,r,n,o,i,l,a;null==(t=this.upArrow)||null==(e=t.node)||e.off(w.EventType.TOUCH_START),null==(r=this.leftArrow)||null==(n=r.node)||n.off(w.EventType.TOUCH_START),null==(o=this.downArrow)||null==(i=o.node)||i.off(w.EventType.TOUCH_START),null==(l=this.rightArrow)||null==(a=l.node)||a.off(w.EventType.TOUCH_START)},e}(a)).prototype,"upArrow",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(_.prototype,"leftArrow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=e(_.prototype,"downArrow",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(_.prototype,"rightArrow",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=_))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualPad2.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){var _;t("VIRTUAL_PAD_CONTROL",void 0),r._RF.push({},"8c45cNspLJCR7hf4P14Q2M1","VirtualPad",void 0),function(t){t.UP="virtual_pad_control_up",t.DOWN="virtual_pad_control_down",t.LEFT="virtual_pad_control_left",t.RIGHT="virtual_pad_control_right"}(_||(_=t("VIRTUAL_PAD_CONTROL",{}))),r._RF.pop()}}}));
